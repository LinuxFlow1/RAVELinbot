# Rave Bot для Telegram

Бот для совместного просмотра видео в Telegram с использованием Telegram Web App.

## Как запустить бота без полноценного сервера

### 1. Установите необходимые зависимости

```bash
pip install flask pyTelegramBotAPI
```

### 2. Получите токен бота

1. Найдите @BotFather в Telegram
2. Отправьте команду `/newbot` и следуйте инструкциям
3. Сохраните полученный токен бота

### 3. Настройте туннелирование с помощью ngrok

1. Скачайте и установите ngrok с сайта https://ngrok.com/
2. Запустите ngrok для перенаправления порта 5000:

```bash
ngrok http 5000
```

3. Скопируйте URL, который предоставит ngrok (например, https://a1b2c3d4e5f6.ngrok.io)

### 4. Настройте бота

1. Откройте файл `simple_bot.py`
2. Замените значение переменной `BOT_TOKEN` на токен вашего бота
3. Замените значение `WEBHOOK_HOST` на URL, полученный от ngrok

### 5. Запустите бота

```bash
python simple_bot.py
```

### 6. Настройте webhook

Откройте в браузере URL:
```
https://вашдомен.ngrok.io/set_webhook
```

### 7. Готово!

Теперь ваш бот должен работать. Найдите его в Telegram и отправьте команду `/start`.

## Структура файлов

- `simple_bot.py` - основной файл бота
- `templates/webapp/` - шаблоны для Web App
- `static/webapp/` - статические файлы (CSS, JavaScript)

## Примечания

- Данная реализация использует память в качестве хранилища данных. При перезапуске бота все данные будут утеряны.
- Для реального использования рекомендуется использовать базу данных (например, SQLite или MongoDB).
- URL от ngrok меняется при каждом запуске, поэтому при перезапуске ngrok вам нужно будет обновить URL в коде и перенастроить webhook.

## Альтернативный способ тестирования без сервера

Для простого тестирования интерфейса без необходимости запуска полноценного сервера вы можете использовать файл `static/webapp/test_local.html`. Этот файл эмулирует Telegram WebApp API и позволяет тестировать интерфейс локально в браузере.

### Как использовать test_local.html:

1. Просто откройте файл в браузере
2. Используйте тестовую панель внизу страницы для переключения между различными состояниями приложения
3. Все запросы к API эмулируются локально 